(()=>{"use strict";var e={743:(e,t,a)=>{function c(e,t,a,c,r,i){const o=document.getElementById("basic-data");let n=document.createElement("h2");n.classList.add("cityCountryNameName"),n.innerHTML=e+", "+t;let s=document.createElement("p");s.classList.add("timeDate"),s.innerHTML=a;let d=document.createElement("div");d.classList.add("conditionContainer");let l=document.createElement("img");l.setAttribute("src",c),l.setAttribute("alt","Weather Condition Icon");let h=document.createElement("h2");h.classList.add("whetherCondition"),h.innerHTML=r,d.appendChild(h),d.appendChild(l);let u=document.createElement("h1");u.classList.add("currentTemperature"),u.innerHTML=i+" °C",0==o.childNodes.length?(o.appendChild(n),o.appendChild(s),o.appendChild(d),o.appendChild(u)):(o.replaceChild(n,o.children[0]),o.replaceChild(s,o.children[1]),o.replaceChild(d,o.children[2]),o.replaceChild(u,o.children[3]))}function r(e,t,a){const c=document.getElementById("additional-data");let r=document.createElement("p");r.classList.add("humidityData"),r.innerHTML="humidity "+e+" %";let i=document.createElement("p");i.classList.add("feelslikeData"),i.innerHTML="Feels Like "+t+" °C";let o=document.createElement("p");o.classList.add("windspeedData"),o.innerHTML="Wind Speed "+a+" kph",0==c.childNodes.length?(c.appendChild(r),c.appendChild(i),c.appendChild(o)):(c.replaceChild(r,c.children[0]),c.replaceChild(i,c.children[1]),c.replaceChild(o,c.children[2]))}a.d(t,{X:()=>c,d:()=>r})},304:(e,t,a)=>{a.d(t,{s:()=>c});const c="f06d23d621c748f1aed94259232004"}},t={};function a(c){var r=t[c];if(void 0!==r)return r.exports;var i=t[c]={exports:{}};return e[c](i,i.exports,a),i.exports}a.d=(e,t)=>{for(var c in t)a.o(t,c)&&!a.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=a(304),t=a(743);class c{constructor(e,t,a,c,r,i,o,n,s,d){this.country=e,this.city=t,this.local_time=a,this.condition=c,this.condition_icon=r,this.humidity=i,this.sunrise=o,this.sunset=n,this.celsiusData=s,this.fahrenheitData=d}fahrenheitDataDOM(){(0,t.d)(this.humidity,this.celsiusData.feelslike,this.celsiusData.wind)}basicDataDOM(){(0,t.X)(this.city,this.country,this.local_time,this.condition_icon,this.condition,this.celsiusData.temperature)}}class r{constructor(e){this.dailyForecast=e}test(){console.log(this.dailyForecast)}}class i{constructor(e){this.hourlyForecast=e}test(){console.log(this.hourlyForecast)}}document.getElementById("searchButton").addEventListener("click",(t=>{t.preventDefault(),async function(t){try{const a=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e.s}&q=${t}&days=3`,{mode:"cors"}),c=await a.json();console.log(c);const r={basic_data:{country:c.location.country,city:c.location.name,local_time:c.location.localtime,condition:c.current.condition.text,condition_icon:"https:"+c.current.condition.icon,humidity:c.current.humidity,sunrise:c.forecast.forecastday[0].astro.sunrise,sunset:c.forecast.forecastday[0].astro.sunset},celsius:{feelslike:c.current.feelslike_c,temperature:c.current.temp_c,wind:c.current.wind_kph},fahrenheit:{feelslike:c.current.feelslike_f,temperature:c.current.temp_f,wind:c.current.wind_mph},forecast:{forecast_per_day_Celsius:{},forecast_per_day_Fahrenheit:{},forecast_per_hour:{}}};function i(){for(let e=0;e<3;e++)r.forecast.forecast_per_day_Celsius["day"+e]={date:c.forecast.forecastday[e].date,min_temp:c.forecast.forecastday[e].day.mintemp_c,max_temp:c.forecast.forecastday[e].day.maxtemp_c}}function o(){for(let e=0;e<3;e++)r.forecast.forecast_per_day_Fahrenheit["day"+e]={date:c.forecast.forecastday[e].date,min_temp:c.forecast.forecastday[e].day.mintemp_f,max_temp:c.forecast.forecastday[e].day.maxtemp_f}}function n(){for(let e=0;e<3;e++){r.forecast.forecast_per_hour["day"+e]={date:c.forecast.forecastday[e].date},r.forecast.forecast_per_hour["day"+e].hour={};for(let t=0;t<24;t++)r.forecast.forecast_per_hour["day"+e].hour["hour"+t]={condition_icon:"https:"+c.forecast.forecastday[e].hour[t].condition.icon,temperatureC:c.forecast.forecastday[e].hour[t].temp_c,temperatureF:c.forecast.forecastday[e].hour[t].temp_f,humidity:c.forecast.forecastday[e].hour[t].humidity,chance_of_rain:c.forecast.forecastday[e].hour[t].chance_of_rain,chance_of_snow:c.forecast.forecastday[e].hour[t].chance_of_snow}}}return i(),o(),n(),r}catch(s){console.log(s)}}(document.getElementById("location").value).then((e=>{const{country:t,city:a,local_time:o,condition:n,condition_icon:s,humidity:d,sunrise:l,sunset:h}=e.basic_data,u=e.celsius,f=e.fahrenheit,p=e.forecast.forecast_per_day_Celsius,m=e.forecast.forecast_per_hour,y=new c(t,a,o,n,s,d,l,h,u,f);new r(p),new i(m),y.basicDataDOM(),y.fahrenheitDataDOM()}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0UsRUFBSzNDLFdBQ0g0QyxFQUFxQkQsRUFBS2pDLFFBQzFCbUMsRUFBd0JGLEVBQUs3QixXQUM3QmdDLEVBQW9CSCxFQUFLcEMsU0FBU1cseUJBQ2xDNkIsRUFBcUJKLEVBQUtwQyxTQUFTYSxrQkFDbkM0QixFQUFnQixJQUFJNUUsRUFDeEJ0RCxFQUNBRCxFQUNBeUQsRUFDQXJELEVBQ0FzRCxFQUNBaEMsRUFDQWlDLEVBQ0FDLEVBQ0FtRSxFQUNBQyxHQUUwQixJQUFJN0QsRUFBYzhELEdBQ2pCLElBQUkxRCxFQUFlMkQsR0FJaERDLEVBQWNqRSxlQUNkaUUsRUFBY25FLG1CQUFtQixHQS9IWCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvLi9zcmMvbWFpbkRPTS5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC8uL3NyYy9teUtleS5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWF0aGVyLWFwcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBiYXNpY0RhdGEoY2l0eSwgY291bnRyeSwgdGltZSwgY29uZGl0aW9uSWNvbiwgY29uZGl0aW9uLCB0ZW1wZXJhdHVyZSkge1xuICBjb25zdCBkYXRhSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXNpYy1kYXRhXCIpO1xuXG4gIGxldCBjaXR5Q291bnRyeU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIGNpdHlDb3VudHJ5TmFtZS5jbGFzc0xpc3QuYWRkKFwiY2l0eUNvdW50cnlOYW1lTmFtZVwiKTtcbiAgY2l0eUNvdW50cnlOYW1lLmlubmVySFRNTCA9IGNpdHkgKyBcIiwgXCIgKyBjb3VudHJ5O1xuXG4gIGxldCB0aW1lRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICB0aW1lRGF0ZS5jbGFzc0xpc3QuYWRkKFwidGltZURhdGVcIik7XG4gIHRpbWVEYXRlLmlubmVySFRNTCA9IHRpbWU7XG5cbiAgbGV0IGNvbmRpdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbmRpdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29uZGl0aW9uQ29udGFpbmVyXCIpO1xuXG4gIGxldCBjb25kaXRpb25JY29uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgY29uZGl0aW9uSWNvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgY29uZGl0aW9uSWNvbik7XG4gIGNvbmRpdGlvbkljb25Db250YWluZXIuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiV2VhdGhlciBDb25kaXRpb24gSWNvblwiKTtcblxuICBsZXQgd2VhdGhlckNvbmRpdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgd2VhdGhlckNvbmRpdGlvbi5jbGFzc0xpc3QuYWRkKFwid2hldGhlckNvbmRpdGlvblwiKTtcbiAgd2VhdGhlckNvbmRpdGlvbi5pbm5lckhUTUwgPSBjb25kaXRpb247XG4gIGNvbmRpdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh3ZWF0aGVyQ29uZGl0aW9uKTtcbiAgY29uZGl0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbmRpdGlvbkljb25Db250YWluZXIpO1xuXG4gIGxldCBjdXJyZW50VGVtcGVyYXR1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gIGN1cnJlbnRUZW1wZXJhdHVyZS5jbGFzc0xpc3QuYWRkKFwiY3VycmVudFRlbXBlcmF0dXJlXCIpO1xuICBjdXJyZW50VGVtcGVyYXR1cmUuaW5uZXJIVE1MID0gdGVtcGVyYXR1cmUgKyBcIiDCsENcIjtcblxuICBpZiAoZGF0YUhvbGRlci5jaGlsZE5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgZGF0YUhvbGRlci5hcHBlbmRDaGlsZChjaXR5Q291bnRyeU5hbWUpO1xuICAgIGRhdGFIb2xkZXIuYXBwZW5kQ2hpbGQodGltZURhdGUpO1xuICAgIGRhdGFIb2xkZXIuYXBwZW5kQ2hpbGQoY29uZGl0aW9uQ29udGFpbmVyKTtcbiAgICBkYXRhSG9sZGVyLmFwcGVuZENoaWxkKGN1cnJlbnRUZW1wZXJhdHVyZSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQoY2l0eUNvdW50cnlOYW1lLCBkYXRhSG9sZGVyLmNoaWxkcmVuWzBdKTtcbiAgICBkYXRhSG9sZGVyLnJlcGxhY2VDaGlsZCh0aW1lRGF0ZSwgZGF0YUhvbGRlci5jaGlsZHJlblsxXSk7XG4gICAgZGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQoY29uZGl0aW9uQ29udGFpbmVyLCBkYXRhSG9sZGVyLmNoaWxkcmVuWzJdKTtcbiAgICBkYXRhSG9sZGVyLnJlcGxhY2VDaGlsZChjdXJyZW50VGVtcGVyYXR1cmUsIGRhdGFIb2xkZXIuY2hpbGRyZW5bM10pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZGl0aW9uYWxEYXRhKGh1bWlkaXR5LCBmZWVsc2xpa2UsIHdpbmRzcGVlZCkge1xuICBjb25zdCBhZGRpdGlvbmFsRGF0YUhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkaXRpb25hbC1kYXRhXCIpO1xuXG4gIGxldCBodW1pZGl0eURhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgaHVtaWRpdHlEYXRhLmNsYXNzTGlzdC5hZGQoXCJodW1pZGl0eURhdGFcIik7XG4gIGh1bWlkaXR5RGF0YS5pbm5lckhUTUwgPSBcImh1bWlkaXR5IFwiICsgaHVtaWRpdHkgKyBcIiAlXCI7XG5cbiAgbGV0IGZlZWxzbGlrZURhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgZmVlbHNsaWtlRGF0YS5jbGFzc0xpc3QuYWRkKFwiZmVlbHNsaWtlRGF0YVwiKTtcbiAgZmVlbHNsaWtlRGF0YS5pbm5lckhUTUwgPSBcIkZlZWxzIExpa2UgXCIgKyBmZWVsc2xpa2UgKyBcIiDCsENcIjtcblxuICBsZXQgd2luZHNwZWVkRGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICB3aW5kc3BlZWREYXRhLmNsYXNzTGlzdC5hZGQoXCJ3aW5kc3BlZWREYXRhXCIpO1xuICB3aW5kc3BlZWREYXRhLmlubmVySFRNTCA9IFwiV2luZCBTcGVlZCBcIiArIHdpbmRzcGVlZCArIFwiIGtwaFwiO1xuXG4gIGlmIChhZGRpdGlvbmFsRGF0YUhvbGRlci5jaGlsZE5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIuYXBwZW5kQ2hpbGQoaHVtaWRpdHlEYXRhKTtcbiAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5hcHBlbmRDaGlsZChmZWVsc2xpa2VEYXRhKTtcbiAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5hcHBlbmRDaGlsZCh3aW5kc3BlZWREYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQoXG4gICAgICBodW1pZGl0eURhdGEsXG4gICAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5jaGlsZHJlblswXVxuICAgICk7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIucmVwbGFjZUNoaWxkKFxuICAgICAgZmVlbHNsaWtlRGF0YSxcbiAgICAgIGFkZGl0aW9uYWxEYXRhSG9sZGVyLmNoaWxkcmVuWzFdXG4gICAgKTtcbiAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQoXG4gICAgICB3aW5kc3BlZWREYXRhLFxuICAgICAgYWRkaXRpb25hbERhdGFIb2xkZXIuY2hpbGRyZW5bMl1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCB7IGJhc2ljRGF0YSwgYWRkaXRpb25hbERhdGEgfTtcbiIsImV4cG9ydCBjb25zdCBLZXkgPSBcImYwNmQyM2Q2MjFjNzQ4ZjFhZWQ5NDI1OTIzMjAwNFwiO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgXCIuL3N0eWxlLmNzc1wiO1xuaW1wb3J0IHsgS2V5IH0gZnJvbSBcIi4vbXlLZXlcIjtcbmltcG9ydCB7IGJhc2ljRGF0YSwgYWRkaXRpb25hbERhdGEgfSBmcm9tIFwiLi9tYWluRE9NXCI7XG5cbmNsYXNzIFdlYXRoZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb3VudHJ5LFxuICAgIGNpdHksXG4gICAgbG9jYWxfdGltZSxcbiAgICBjb25kaXRpb24sXG4gICAgY29uZGl0aW9uX2ljb24sXG4gICAgaHVtaWRpdHksXG4gICAgc3VucmlzZSxcbiAgICBzdW5zZXQsXG4gICAgY2Vsc2l1c0RhdGEsXG4gICAgZmFocmVuaGVpdERhdGFcbiAgKSB7XG4gICAgdGhpcy5jb3VudHJ5ID0gY291bnRyeTtcbiAgICB0aGlzLmNpdHkgPSBjaXR5O1xuICAgIHRoaXMubG9jYWxfdGltZSA9IGxvY2FsX3RpbWU7XG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgdGhpcy5jb25kaXRpb25faWNvbiA9IGNvbmRpdGlvbl9pY29uO1xuICAgIHRoaXMuaHVtaWRpdHkgPSBodW1pZGl0eTtcbiAgICB0aGlzLnN1bnJpc2UgPSBzdW5yaXNlO1xuICAgIHRoaXMuc3Vuc2V0ID0gc3Vuc2V0O1xuICAgIHRoaXMuY2Vsc2l1c0RhdGEgPSBjZWxzaXVzRGF0YTtcbiAgICB0aGlzLmZhaHJlbmhlaXREYXRhID0gZmFocmVuaGVpdERhdGE7XG4gIH1cblxuICBmYWhyZW5oZWl0RGF0YURPTSgpIHtcbiAgICBhZGRpdGlvbmFsRGF0YShcbiAgICAgIHRoaXMuaHVtaWRpdHksXG4gICAgICB0aGlzLmNlbHNpdXNEYXRhLmZlZWxzbGlrZSxcbiAgICAgIHRoaXMuY2Vsc2l1c0RhdGEud2luZFxuICAgICk7XG4gIH1cbiAgYmFzaWNEYXRhRE9NKCkge1xuICAgIGJhc2ljRGF0YShcbiAgICAgIHRoaXMuY2l0eSxcbiAgICAgIHRoaXMuY291bnRyeSxcbiAgICAgIHRoaXMubG9jYWxfdGltZSxcbiAgICAgIHRoaXMuY29uZGl0aW9uX2ljb24sXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMuY2Vsc2l1c0RhdGEudGVtcGVyYXR1cmVcbiAgICApO1xuICB9XG59XG5cbmNsYXNzIGRhaWx5Rm9yZWNhc3Qge1xuICBjb25zdHJ1Y3RvcihkYWlseUZvcmVjYXN0KSB7XG4gICAgdGhpcy5kYWlseUZvcmVjYXN0ID0gZGFpbHlGb3JlY2FzdDtcbiAgfVxuICB0ZXN0KCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZGFpbHlGb3JlY2FzdCk7XG4gIH1cbn1cbmNsYXNzIGhvdXJseUZvcmVjYXN0IHtcbiAgY29uc3RydWN0b3IoaG91cmx5Rm9yZWNhc3QpIHtcbiAgICB0aGlzLmhvdXJseUZvcmVjYXN0ID0gaG91cmx5Rm9yZWNhc3Q7XG4gIH1cbiAgdGVzdCgpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmhvdXJseUZvcmVjYXN0KTtcbiAgfVxufVxuXG4vL2J1dHRvbiB0YWtpbmcgbG9jYXRpb24gZnJvbSBpbnB1dCB0aGF0IGZpcmUgYXBpIHJlcXVlc3QgYW5kIGxvZyBkYXRhXG5mdW5jdGlvbiB0YWtlTG9jYXRpb24oKSB7XG4gIGNvbnN0IHNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoQnV0dG9uXCIpO1xuICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHRlc3RpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25cIikudmFsdWU7XG4gICAgZmlyZVJlcXVlc3QodGVzdGlucHV0KTtcbiAgfSk7XG59XG50YWtlTG9jYXRpb24oKTtcblxuYXN5bmMgZnVuY3Rpb24gYXBpUmVxdWVzdCh3aGF0TG9jYXRpb24pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvZm9yZWNhc3QuanNvbj9rZXk9JHtLZXl9JnE9JHt3aGF0TG9jYXRpb259JmRheXM9M2AsXG4gICAgICB7XG4gICAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgY29uc3QgRGF0YU9iamVjdCA9IHtcbiAgICAgIGJhc2ljX2RhdGE6IHtcbiAgICAgICAgY291bnRyeTogcmVzcG9uc2UubG9jYXRpb24uY291bnRyeSxcbiAgICAgICAgY2l0eTogcmVzcG9uc2UubG9jYXRpb24ubmFtZSxcbiAgICAgICAgbG9jYWxfdGltZTogcmVzcG9uc2UubG9jYXRpb24ubG9jYWx0aW1lLFxuICAgICAgICBjb25kaXRpb246IHJlc3BvbnNlLmN1cnJlbnQuY29uZGl0aW9uLnRleHQsXG4gICAgICAgIGNvbmRpdGlvbl9pY29uOiBcImh0dHBzOlwiICsgcmVzcG9uc2UuY3VycmVudC5jb25kaXRpb24uaWNvbixcbiAgICAgICAgaHVtaWRpdHk6IHJlc3BvbnNlLmN1cnJlbnQuaHVtaWRpdHksXG4gICAgICAgIHN1bnJpc2U6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5WzBdLmFzdHJvLnN1bnJpc2UsXG4gICAgICAgIHN1bnNldDogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbMF0uYXN0cm8uc3Vuc2V0LFxuICAgICAgfSxcbiAgICAgIGNlbHNpdXM6IHtcbiAgICAgICAgZmVlbHNsaWtlOiByZXNwb25zZS5jdXJyZW50LmZlZWxzbGlrZV9jLFxuICAgICAgICB0ZW1wZXJhdHVyZTogcmVzcG9uc2UuY3VycmVudC50ZW1wX2MsXG4gICAgICAgIHdpbmQ6IHJlc3BvbnNlLmN1cnJlbnQud2luZF9rcGgsXG4gICAgICB9LFxuICAgICAgZmFocmVuaGVpdDoge1xuICAgICAgICBmZWVsc2xpa2U6IHJlc3BvbnNlLmN1cnJlbnQuZmVlbHNsaWtlX2YsXG4gICAgICAgIHRlbXBlcmF0dXJlOiByZXNwb25zZS5jdXJyZW50LnRlbXBfZixcbiAgICAgICAgd2luZDogcmVzcG9uc2UuY3VycmVudC53aW5kX21waCxcbiAgICAgIH0sXG4gICAgICBmb3JlY2FzdDoge1xuICAgICAgICAvL0xvb3BpbmcgcGVyIGRheXMgYW5kIGhvdXJzIGluIGZ1bmN0aW9uIGZvcmVjYXN0UGVySG91ckNlbHNpdXMgYW5kIGZvcmVjYXN0X3Blcl9ob3VyX0ZhaHJlbmhlaXRcbiAgICAgICAgZm9yZWNhc3RfcGVyX2RheV9DZWxzaXVzOiB7fSxcbiAgICAgICAgZm9yZWNhc3RfcGVyX2RheV9GYWhyZW5oZWl0OiB7fSxcbiAgICAgICAgZm9yZWNhc3RfcGVyX2hvdXI6IHt9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZvcmVjYXN0UGVyRGF5Q2Vsc2l1cygpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIERhdGFPYmplY3QuZm9yZWNhc3QuZm9yZWNhc3RfcGVyX2RheV9DZWxzaXVzW1wiZGF5XCIgKyBpXSA9IHtcbiAgICAgICAgICBkYXRlOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXRlLFxuICAgICAgICAgIG1pbl90ZW1wOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWludGVtcF9jLFxuICAgICAgICAgIG1heF90ZW1wOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWF4dGVtcF9jLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcmVjYXN0UGVyRGF5RmFocmVuaGVpdCgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIERhdGFPYmplY3QuZm9yZWNhc3QuZm9yZWNhc3RfcGVyX2RheV9GYWhyZW5oZWl0W1wiZGF5XCIgKyBpXSA9IHtcbiAgICAgICAgICBkYXRlOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXRlLFxuICAgICAgICAgIG1pbl90ZW1wOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWludGVtcF9mLFxuICAgICAgICAgIG1heF90ZW1wOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWF4dGVtcF9mLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JlY2FzdFBlckhvdXIoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBEYXRhT2JqZWN0LmZvcmVjYXN0LmZvcmVjYXN0X3Blcl9ob3VyW1wiZGF5XCIgKyBpXSA9IHtcbiAgICAgICAgICBkYXRlOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXRlLFxuICAgICAgICB9O1xuICAgICAgICBEYXRhT2JqZWN0LmZvcmVjYXN0LmZvcmVjYXN0X3Blcl9ob3VyW1wiZGF5XCIgKyBpXS5ob3VyID0ge307XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMjQ7IGsrKykge1xuICAgICAgICAgIERhdGFPYmplY3QuZm9yZWNhc3QuZm9yZWNhc3RfcGVyX2hvdXJbXCJkYXlcIiArIGldLmhvdXJbXCJob3VyXCIgKyBrXSA9IHtcbiAgICAgICAgICAgIGNvbmRpdGlvbl9pY29uOlxuICAgICAgICAgICAgICBcImh0dHBzOlwiICtcbiAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uaG91cltrXS5jb25kaXRpb24uaWNvbixcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlQzogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uaG91cltrXS50ZW1wX2MsXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZUY6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10udGVtcF9mLFxuICAgICAgICAgICAgaHVtaWRpdHk6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10uaHVtaWRpdHksXG4gICAgICAgICAgICBjaGFuY2Vfb2ZfcmFpbjpcbiAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uaG91cltrXS5jaGFuY2Vfb2ZfcmFpbixcbiAgICAgICAgICAgIGNoYW5jZV9vZl9zbm93OlxuICAgICAgICAgICAgICByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5ob3VyW2tdLmNoYW5jZV9vZl9zbm93LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JlY2FzdFBlckRheUNlbHNpdXMoKTtcbiAgICBmb3JlY2FzdFBlckRheUZhaHJlbmhlaXQoKTtcbiAgICBmb3JlY2FzdFBlckhvdXIoKTtcbiAgICByZXR1cm4gRGF0YU9iamVjdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGZpcmVSZXF1ZXN0KGlucHV0dmFsdWUpIHtcbiAgYXBpUmVxdWVzdChpbnB1dHZhbHVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY291bnRyeSxcbiAgICAgIGNpdHksXG4gICAgICBsb2NhbF90aW1lLFxuICAgICAgY29uZGl0aW9uLFxuICAgICAgY29uZGl0aW9uX2ljb24sXG4gICAgICBodW1pZGl0eSxcbiAgICAgIHN1bnJpc2UsXG4gICAgICBzdW5zZXQsXG4gICAgfSA9IGRhdGEuYmFzaWNfZGF0YTtcbiAgICBjb25zdCBjdXJyZW50Q2Vsc2l1c0RhdGEgPSBkYXRhLmNlbHNpdXM7XG4gICAgY29uc3QgY3VycmVudEZhaHJlbmhlaXREYXRhID0gZGF0YS5mYWhyZW5oZWl0O1xuICAgIGNvbnN0IGRhaWx5Rm9yZWNhc3REYXRhID0gZGF0YS5mb3JlY2FzdC5mb3JlY2FzdF9wZXJfZGF5X0NlbHNpdXM7XG4gICAgY29uc3QgaG91cmx5Rm9yZWNhc3REYXRhID0gZGF0YS5mb3JlY2FzdC5mb3JlY2FzdF9wZXJfaG91cjtcbiAgICBjb25zdCBjdXJyZW5XZWF0aGVyID0gbmV3IFdlYXRoZXIoXG4gICAgICBjb3VudHJ5LFxuICAgICAgY2l0eSxcbiAgICAgIGxvY2FsX3RpbWUsXG4gICAgICBjb25kaXRpb24sXG4gICAgICBjb25kaXRpb25faWNvbixcbiAgICAgIGh1bWlkaXR5LFxuICAgICAgc3VucmlzZSxcbiAgICAgIHN1bnNldCxcbiAgICAgIGN1cnJlbnRDZWxzaXVzRGF0YSxcbiAgICAgIGN1cnJlbnRGYWhyZW5oZWl0RGF0YVxuICAgICk7XG4gICAgY29uc3QgZGFpbHlGb3JlY2FzdE9iamVjdCA9IG5ldyBkYWlseUZvcmVjYXN0KGRhaWx5Rm9yZWNhc3REYXRhKTtcbiAgICBjb25zdCBob3VybHlGb3JlY2FzdE9iamVjdCA9IG5ldyBob3VybHlGb3JlY2FzdChob3VybHlGb3JlY2FzdERhdGEpO1xuICAgIC8vZGFpbHlGb3JlY2FzdE9iamVjdC50ZXN0KCk7XG4gICAgLy9ob3VybHlGb3JlY2FzdE9iamVjdC50ZXN0KCk7XG4gICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICBjdXJyZW5XZWF0aGVyLmJhc2ljRGF0YURPTSgpO1xuICAgIGN1cnJlbldlYXRoZXIuZmFocmVuaGVpdERhdGFET00oKTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiYmFzaWNEYXRhIiwiY2l0eSIsImNvdW50cnkiLCJ0aW1lIiwiY29uZGl0aW9uSWNvbiIsImNvbmRpdGlvbiIsInRlbXBlcmF0dXJlIiwiZGF0YUhvbGRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaXR5Q291bnRyeU5hbWUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwidGltZURhdGUiLCJjb25kaXRpb25Db250YWluZXIiLCJjb25kaXRpb25JY29uQ29udGFpbmVyIiwic2V0QXR0cmlidXRlIiwid2VhdGhlckNvbmRpdGlvbiIsImFwcGVuZENoaWxkIiwiY3VycmVudFRlbXBlcmF0dXJlIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsInJlcGxhY2VDaGlsZCIsImNoaWxkcmVuIiwiYWRkaXRpb25hbERhdGEiLCJodW1pZGl0eSIsImZlZWxzbGlrZSIsIndpbmRzcGVlZCIsImFkZGl0aW9uYWxEYXRhSG9sZGVyIiwiaHVtaWRpdHlEYXRhIiwiZmVlbHNsaWtlRGF0YSIsIndpbmRzcGVlZERhdGEiLCJLZXkiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJXZWF0aGVyIiwiY29uc3RydWN0b3IiLCJsb2NhbF90aW1lIiwiY29uZGl0aW9uX2ljb24iLCJzdW5yaXNlIiwic3Vuc2V0IiwiY2Vsc2l1c0RhdGEiLCJmYWhyZW5oZWl0RGF0YSIsInRoaXMiLCJmYWhyZW5oZWl0RGF0YURPTSIsIndpbmQiLCJiYXNpY0RhdGFET00iLCJkYWlseUZvcmVjYXN0IiwidGVzdCIsImNvbnNvbGUiLCJsb2ciLCJob3VybHlGb3JlY2FzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYXN5bmMiLCJ3aGF0TG9jYXRpb24iLCJyZXF1ZXN0IiwiZmV0Y2giLCJtb2RlIiwicmVzcG9uc2UiLCJqc29uIiwiRGF0YU9iamVjdCIsImJhc2ljX2RhdGEiLCJsb2NhdGlvbiIsIm5hbWUiLCJsb2NhbHRpbWUiLCJjdXJyZW50IiwidGV4dCIsImljb24iLCJmb3JlY2FzdCIsImZvcmVjYXN0ZGF5IiwiYXN0cm8iLCJjZWxzaXVzIiwiZmVlbHNsaWtlX2MiLCJ0ZW1wX2MiLCJ3aW5kX2twaCIsImZhaHJlbmhlaXQiLCJmZWVsc2xpa2VfZiIsInRlbXBfZiIsIndpbmRfbXBoIiwiZm9yZWNhc3RfcGVyX2RheV9DZWxzaXVzIiwiZm9yZWNhc3RfcGVyX2RheV9GYWhyZW5oZWl0IiwiZm9yZWNhc3RfcGVyX2hvdXIiLCJmb3JlY2FzdFBlckRheUNlbHNpdXMiLCJpIiwiZGF0ZSIsIm1pbl90ZW1wIiwiZGF5IiwibWludGVtcF9jIiwibWF4X3RlbXAiLCJtYXh0ZW1wX2MiLCJmb3JlY2FzdFBlckRheUZhaHJlbmhlaXQiLCJtaW50ZW1wX2YiLCJtYXh0ZW1wX2YiLCJmb3JlY2FzdFBlckhvdXIiLCJob3VyIiwiayIsInRlbXBlcmF0dXJlQyIsInRlbXBlcmF0dXJlRiIsImNoYW5jZV9vZl9yYWluIiwiY2hhbmNlX29mX3Nub3ciLCJlcnJvciIsImFwaVJlcXVlc3QiLCJ2YWx1ZSIsInRoZW4iLCJkYXRhIiwiY3VycmVudENlbHNpdXNEYXRhIiwiY3VycmVudEZhaHJlbmhlaXREYXRhIiwiZGFpbHlGb3JlY2FzdERhdGEiLCJob3VybHlGb3JlY2FzdERhdGEiLCJjdXJyZW5XZWF0aGVyIl0sInNvdXJjZVJvb3QiOiIifQ==