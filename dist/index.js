(()=>{"use strict";var e={743:(e,t,a)=>{function o(e,t,a,o,r,c){const i=document.getElementById("basic-data");let n=document.createElement("h2");n.classList.add("cityCountryNameName"),n.innerHTML=e+", "+t;let s=document.createElement("p");s.classList.add("timeDate"),s.innerHTML=a;let d=document.createElement("div");d.classList.add("conditionContainer");let l=document.createElement("img");l.setAttribute("src",o),l.setAttribute("alt","Weather Condition Icon");let h=document.createElement("h2");h.classList.add("whetherCondition"),h.innerHTML=r,d.appendChild(h),d.appendChild(l);let u=document.createElement("h1");u.classList.add("currentTemperature"),u.innerHTML=c+" °C",0==i.childNodes.length?(i.appendChild(n),i.appendChild(s),i.appendChild(d),i.appendChild(u)):(i.replaceChild(n,i.children[0]),i.replaceChild(s,i.children[1]),i.replaceChild(d,i.children[2]),i.replaceChild(u,i.children[3]))}function r(e,t,a){const o=document.getElementById("additional-data");let r=document.createElement("p");r.classList.add("humidityData"),r.innerHTML="humidity "+e+" %";let c=document.createElement("p");c.classList.add("feelslikeData"),c.innerHTML="Feels Like "+t+" °C";let i=document.createElement("p");i.classList.add("windspeedData"),i.innerHTML="Wind Speed "+a+" kph",0==o.childNodes.length?(o.appendChild(r),o.appendChild(c),o.appendChild(i)):(o.replaceChild(r,o.children[0]),o.replaceChild(c,o.children[1]),o.replaceChild(i,o.children[2]))}a.d(t,{X:()=>o,d:()=>r})},304:(e,t,a)=>{a.d(t,{s:()=>o});const o="f06d23d621c748f1aed94259232004"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,a),c.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=a(304),t=a(743);class o{constructor(e,t,a,o,r,c,i,n,s,d,l){this.country=e,this.city=t,this.local_time=a,this.condition=o,this.condition_icon=r,this.humidity=c,this.sunrise=i,this.sunset=n,this.celsiusData=s,this.fahrenheitData=d,this.hourlyForecastData=l}basicDataDOM(){(0,t.X)(this.city,this.country,this.local_time,this.condition_icon,this.condition,this.celsiusData.temperature)}fahrenheitDataDOM(){(0,t.d)(this.humidity,this.celsiusData.feelslike,this.celsiusData.wind)}chanceOfRain(){let e=0,t=0;for(let a=0;a<Object.keys(this.hourlyForecastData.day0.hour).length;a++){let o=this.hourlyForecastData.day0.hour[`hour${a}`].time;new Date(o).getTime()>new Date(this.local_time).getTime()&&(t+=1,e+=this.hourlyForecastData.day0.hour[`hour${a}`].chance_of_rain)}let a=e/t;return Math.round(100*a)/100}chanceOfSnow(){let e=0,t=0;for(let a=0;a<Object.keys(this.hourlyForecastData.day0.hour).length;a++){let o=this.hourlyForecastData.day0.hour[`hour${a}`].time;new Date(o).getTime()>new Date(this.local_time).getTime()&&(t+=1,e+=this.hourlyForecastData.day0.hour[`hour${a}`].chance_of_snow)}let a=e/t;return console.log(Math.round(100*a)/100),Math.round(100*a)/100}}class r{constructor(e){this.dailyForecast=e}test(){console.log(this.dailyForecast)}}class c{constructor(e){this.hourlyForecast=e}test(){console.log(this.hourlyForecast)}}document.getElementById("searchButton").addEventListener("click",(t=>{t.preventDefault(),async function(t){try{const a=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e.s}&q=${t}&days=3`,{mode:"cors"}),o=await a.json();console.log(o);const r={basic_data:{country:o.location.country,city:o.location.name,local_time:o.location.localtime,condition:o.current.condition.text,condition_icon:"https:"+o.current.condition.icon,humidity:o.current.humidity,sunrise:o.forecast.forecastday[0].astro.sunrise,sunset:o.forecast.forecastday[0].astro.sunset},celsius:{feelslike:o.current.feelslike_c,temperature:o.current.temp_c,wind:o.current.wind_kph},fahrenheit:{feelslike:o.current.feelslike_f,temperature:o.current.temp_f,wind:o.current.wind_mph},forecast:{forecast_per_day_Celsius:{},forecast_per_day_Fahrenheit:{},forecast_per_hour:{}}};function c(){for(let e=0;e<3;e++)r.forecast.forecast_per_day_Celsius["day"+e]={date:o.forecast.forecastday[e].date,min_temp:o.forecast.forecastday[e].day.mintemp_c,max_temp:o.forecast.forecastday[e].day.maxtemp_c}}function i(){for(let e=0;e<3;e++)r.forecast.forecast_per_day_Fahrenheit["day"+e]={date:o.forecast.forecastday[e].date,min_temp:o.forecast.forecastday[e].day.mintemp_f,max_temp:o.forecast.forecastday[e].day.maxtemp_f}}function n(){for(let e=0;e<3;e++){r.forecast.forecast_per_hour["day"+e]={date:o.forecast.forecastday[e].date},r.forecast.forecast_per_hour["day"+e].hour={};for(let t=0;t<24;t++)r.forecast.forecast_per_hour["day"+e].hour["hour"+t]={condition_icon:"https:"+o.forecast.forecastday[e].hour[t].condition.icon,temperatureC:o.forecast.forecastday[e].hour[t].temp_c,temperatureF:o.forecast.forecastday[e].hour[t].temp_f,humidity:o.forecast.forecastday[e].hour[t].humidity,chance_of_rain:o.forecast.forecastday[e].hour[t].chance_of_rain,chance_of_snow:o.forecast.forecastday[e].hour[t].chance_of_snow,time:o.forecast.forecastday[e].hour[t].time}}}return c(),i(),n(),r}catch(s){console.log(s)}}(document.getElementById("location").value).then((e=>{const{country:t,city:a,local_time:i,condition:n,condition_icon:s,humidity:d,sunrise:l,sunset:h}=e.basic_data,u=e.celsius,f=e.fahrenheit,m=e.forecast.forecast_per_day_Celsius,y=e.forecast.forecast_per_hour,p=new o(t,a,i,n,s,d,l,h,u,f,y);new r(m),new c(y),p.chanceOfRain(),p.chanceOfSnow(),p.basicDataDOM(),p.fahrenheitDataDOM()}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUNFZ0YsRUFBS3ZDLFdBQ0h3QyxFQUFxQkQsRUFBSzdCLFFBQzFCK0IsRUFBd0JGLEVBQUt6QixXQUM3QjRCLEVBQW9CSCxFQUFLaEMsU0FBU1cseUJBQ2xDeEQsRUFBcUI2RSxFQUFLaEMsU0FBU2Esa0JBQ25DdUIsRUFBZ0IsSUFBSXpGLEVBQ3hCdEQsRUFDQUQsRUFDQXlELEVBQ0FyRCxFQUNBc0QsRUFDQWhDLEVBQ0FpQyxFQUNBQyxFQUNBaUYsRUFDQUMsRUFDQS9FLEdBRTBCLElBQUl3QixFQUFjd0QsR0FDakIsSUFBSXRELEVBQWUxQixHQUloRGlGLEVBQWM1RSxlQUNkNEUsRUFBYzlELGVBQ2Q4RCxFQUFjL0UsZUFDZCtFLEVBQWM5RSxtQkFBbUIsR0FuSVgsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXItYXBwLy4vc3JjL21haW5ET00uanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvLi9zcmMvbXlLZXkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYXRoZXItYXBwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2VhdGhlci1hcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYmFzaWNEYXRhKGNpdHksIGNvdW50cnksIHRpbWUsIGNvbmRpdGlvbkljb24sIGNvbmRpdGlvbiwgdGVtcGVyYXR1cmUpIHtcbiAgY29uc3QgZGF0YUhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFzaWMtZGF0YVwiKTtcblxuICBsZXQgY2l0eUNvdW50cnlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICBjaXR5Q291bnRyeU5hbWUuY2xhc3NMaXN0LmFkZChcImNpdHlDb3VudHJ5TmFtZU5hbWVcIik7XG4gIGNpdHlDb3VudHJ5TmFtZS5pbm5lckhUTUwgPSBjaXR5ICsgXCIsIFwiICsgY291bnRyeTtcblxuICBsZXQgdGltZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgdGltZURhdGUuY2xhc3NMaXN0LmFkZChcInRpbWVEYXRlXCIpO1xuICB0aW1lRGF0ZS5pbm5lckhUTUwgPSB0aW1lO1xuXG4gIGxldCBjb25kaXRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25kaXRpb25Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbmRpdGlvbkNvbnRhaW5lclwiKTtcblxuICBsZXQgY29uZGl0aW9uSWNvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGNvbmRpdGlvbkljb25Db250YWluZXIuc2V0QXR0cmlidXRlKFwic3JjXCIsIGNvbmRpdGlvbkljb24pO1xuICBjb25kaXRpb25JY29uQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIldlYXRoZXIgQ29uZGl0aW9uIEljb25cIik7XG5cbiAgbGV0IHdlYXRoZXJDb25kaXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIHdlYXRoZXJDb25kaXRpb24uY2xhc3NMaXN0LmFkZChcIndoZXRoZXJDb25kaXRpb25cIik7XG4gIHdlYXRoZXJDb25kaXRpb24uaW5uZXJIVE1MID0gY29uZGl0aW9uO1xuICBjb25kaXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQod2VhdGhlckNvbmRpdGlvbik7XG4gIGNvbmRpdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChjb25kaXRpb25JY29uQ29udGFpbmVyKTtcblxuICBsZXQgY3VycmVudFRlbXBlcmF0dXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICBjdXJyZW50VGVtcGVyYXR1cmUuY2xhc3NMaXN0LmFkZChcImN1cnJlbnRUZW1wZXJhdHVyZVwiKTtcbiAgY3VycmVudFRlbXBlcmF0dXJlLmlubmVySFRNTCA9IHRlbXBlcmF0dXJlICsgXCIgwrBDXCI7XG5cbiAgaWYgKGRhdGFIb2xkZXIuY2hpbGROb2Rlcy5sZW5ndGggPT0gMCkge1xuICAgIGRhdGFIb2xkZXIuYXBwZW5kQ2hpbGQoY2l0eUNvdW50cnlOYW1lKTtcbiAgICBkYXRhSG9sZGVyLmFwcGVuZENoaWxkKHRpbWVEYXRlKTtcbiAgICBkYXRhSG9sZGVyLmFwcGVuZENoaWxkKGNvbmRpdGlvbkNvbnRhaW5lcik7XG4gICAgZGF0YUhvbGRlci5hcHBlbmRDaGlsZChjdXJyZW50VGVtcGVyYXR1cmUpO1xuICB9IGVsc2Uge1xuICAgIGRhdGFIb2xkZXIucmVwbGFjZUNoaWxkKGNpdHlDb3VudHJ5TmFtZSwgZGF0YUhvbGRlci5jaGlsZHJlblswXSk7XG4gICAgZGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQodGltZURhdGUsIGRhdGFIb2xkZXIuY2hpbGRyZW5bMV0pO1xuICAgIGRhdGFIb2xkZXIucmVwbGFjZUNoaWxkKGNvbmRpdGlvbkNvbnRhaW5lciwgZGF0YUhvbGRlci5jaGlsZHJlblsyXSk7XG4gICAgZGF0YUhvbGRlci5yZXBsYWNlQ2hpbGQoY3VycmVudFRlbXBlcmF0dXJlLCBkYXRhSG9sZGVyLmNoaWxkcmVuWzNdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRpdGlvbmFsRGF0YShodW1pZGl0eSwgZmVlbHNsaWtlLCB3aW5kc3BlZWQpIHtcbiAgY29uc3QgYWRkaXRpb25hbERhdGFIb2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZGl0aW9uYWwtZGF0YVwiKTtcblxuICBsZXQgaHVtaWRpdHlEYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGh1bWlkaXR5RGF0YS5jbGFzc0xpc3QuYWRkKFwiaHVtaWRpdHlEYXRhXCIpO1xuICBodW1pZGl0eURhdGEuaW5uZXJIVE1MID0gXCJodW1pZGl0eSBcIiArIGh1bWlkaXR5ICsgXCIgJVwiO1xuXG4gIGxldCBmZWVsc2xpa2VEYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGZlZWxzbGlrZURhdGEuY2xhc3NMaXN0LmFkZChcImZlZWxzbGlrZURhdGFcIik7XG4gIGZlZWxzbGlrZURhdGEuaW5uZXJIVE1MID0gXCJGZWVscyBMaWtlIFwiICsgZmVlbHNsaWtlICsgXCIgwrBDXCI7XG5cbiAgbGV0IHdpbmRzcGVlZERhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgd2luZHNwZWVkRGF0YS5jbGFzc0xpc3QuYWRkKFwid2luZHNwZWVkRGF0YVwiKTtcbiAgd2luZHNwZWVkRGF0YS5pbm5lckhUTUwgPSBcIldpbmQgU3BlZWQgXCIgKyB3aW5kc3BlZWQgKyBcIiBrcGhcIjtcblxuICBpZiAoYWRkaXRpb25hbERhdGFIb2xkZXIuY2hpbGROb2Rlcy5sZW5ndGggPT0gMCkge1xuICAgIGFkZGl0aW9uYWxEYXRhSG9sZGVyLmFwcGVuZENoaWxkKGh1bWlkaXR5RGF0YSk7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIuYXBwZW5kQ2hpbGQoZmVlbHNsaWtlRGF0YSk7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIuYXBwZW5kQ2hpbGQod2luZHNwZWVkRGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIucmVwbGFjZUNoaWxkKFxuICAgICAgaHVtaWRpdHlEYXRhLFxuICAgICAgYWRkaXRpb25hbERhdGFIb2xkZXIuY2hpbGRyZW5bMF1cbiAgICApO1xuICAgIGFkZGl0aW9uYWxEYXRhSG9sZGVyLnJlcGxhY2VDaGlsZChcbiAgICAgIGZlZWxzbGlrZURhdGEsXG4gICAgICBhZGRpdGlvbmFsRGF0YUhvbGRlci5jaGlsZHJlblsxXVxuICAgICk7XG4gICAgYWRkaXRpb25hbERhdGFIb2xkZXIucmVwbGFjZUNoaWxkKFxuICAgICAgd2luZHNwZWVkRGF0YSxcbiAgICAgIGFkZGl0aW9uYWxEYXRhSG9sZGVyLmNoaWxkcmVuWzJdXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgeyBiYXNpY0RhdGEsIGFkZGl0aW9uYWxEYXRhIH07XG4iLCJleHBvcnQgY29uc3QgS2V5ID0gXCJmMDZkMjNkNjIxYzc0OGYxYWVkOTQyNTkyMzIwMDRcIjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCB7IEtleSB9IGZyb20gXCIuL215S2V5XCI7XG5pbXBvcnQgeyBiYXNpY0RhdGEsIGFkZGl0aW9uYWxEYXRhIH0gZnJvbSBcIi4vbWFpbkRPTVwiO1xuXG5jbGFzcyBXZWF0aGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgY291bnRyeSxcbiAgICBjaXR5LFxuICAgIGxvY2FsX3RpbWUsXG4gICAgY29uZGl0aW9uLFxuICAgIGNvbmRpdGlvbl9pY29uLFxuICAgIGh1bWlkaXR5LFxuICAgIHN1bnJpc2UsXG4gICAgc3Vuc2V0LFxuICAgIGNlbHNpdXNEYXRhLFxuICAgIGZhaHJlbmhlaXREYXRhLFxuICAgIGhvdXJseUZvcmVjYXN0RGF0YVxuICApIHtcbiAgICB0aGlzLmNvdW50cnkgPSBjb3VudHJ5O1xuICAgIHRoaXMuY2l0eSA9IGNpdHk7XG4gICAgdGhpcy5sb2NhbF90aW1lID0gbG9jYWxfdGltZTtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB0aGlzLmNvbmRpdGlvbl9pY29uID0gY29uZGl0aW9uX2ljb247XG4gICAgdGhpcy5odW1pZGl0eSA9IGh1bWlkaXR5O1xuICAgIHRoaXMuc3VucmlzZSA9IHN1bnJpc2U7XG4gICAgdGhpcy5zdW5zZXQgPSBzdW5zZXQ7XG4gICAgdGhpcy5jZWxzaXVzRGF0YSA9IGNlbHNpdXNEYXRhO1xuICAgIHRoaXMuZmFocmVuaGVpdERhdGEgPSBmYWhyZW5oZWl0RGF0YTtcbiAgICB0aGlzLmhvdXJseUZvcmVjYXN0RGF0YSA9IGhvdXJseUZvcmVjYXN0RGF0YTtcbiAgfVxuICBiYXNpY0RhdGFET00oKSB7XG4gICAgYmFzaWNEYXRhKFxuICAgICAgdGhpcy5jaXR5LFxuICAgICAgdGhpcy5jb3VudHJ5LFxuICAgICAgdGhpcy5sb2NhbF90aW1lLFxuICAgICAgdGhpcy5jb25kaXRpb25faWNvbixcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgdGhpcy5jZWxzaXVzRGF0YS50ZW1wZXJhdHVyZVxuICAgICk7XG4gIH1cblxuICBmYWhyZW5oZWl0RGF0YURPTSgpIHtcbiAgICBhZGRpdGlvbmFsRGF0YShcbiAgICAgIHRoaXMuaHVtaWRpdHksXG4gICAgICB0aGlzLmNlbHNpdXNEYXRhLmZlZWxzbGlrZSxcbiAgICAgIHRoaXMuY2Vsc2l1c0RhdGEud2luZFxuICAgICk7XG4gIH1cbiAgLy9BbmFseXppbmcgY2hhbmNlIG9mIHJhaW4gZm9yIHRoZSByZXN0IG9mIHRoZSBkYXkgbG9jYWwgZGF0ZSB0byBtaWRuaWdodFxuICBjaGFuY2VPZlJhaW4oKSB7XG4gICAgbGV0IGNoYW5jZU9mUmFpbmNvdW50ZXIgPSAwO1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSAwO1xuICAgICAgaSA8IE9iamVjdC5rZXlzKHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cikubGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBsZXQgdGltZVNsaWNlciA9IHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cltgaG91ciR7aX1gXS50aW1lO1xuICAgICAgaWYgKFxuICAgICAgICBuZXcgRGF0ZSh0aW1lU2xpY2VyKS5nZXRUaW1lKCkgPiBuZXcgRGF0ZSh0aGlzLmxvY2FsX3RpbWUpLmdldFRpbWUoKVxuICAgICAgKSB7XG4gICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgY2hhbmNlT2ZSYWluY291bnRlciArPVxuICAgICAgICAgIHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cltgaG91ciR7aX1gXS5jaGFuY2Vfb2ZfcmFpbjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNoYW5jZSA9IGNoYW5jZU9mUmFpbmNvdW50ZXIgLyBjb3VudGVyO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGNoYW5jZSAqIDEwMCkgLyAxMDA7XG4gIH1cbiAgLy9BbmFseXppbmcgY2hhbmNlIG9mIHNub3cgZm9yIHRoZSByZXN0IG9mIHRoZSBkYXkgbG9jYWwgZGF0ZSB0byBtaWRuaWdodFxuICBjaGFuY2VPZlNub3coKSB7XG4gICAgbGV0IGNoYW5jZU9mU25vd2NvdW50ZXIgPSAwO1xuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSAwO1xuICAgICAgaSA8IE9iamVjdC5rZXlzKHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cikubGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBsZXQgdGltZVNsaWNlciA9IHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cltgaG91ciR7aX1gXS50aW1lO1xuICAgICAgaWYgKFxuICAgICAgICBuZXcgRGF0ZSh0aW1lU2xpY2VyKS5nZXRUaW1lKCkgPiBuZXcgRGF0ZSh0aGlzLmxvY2FsX3RpbWUpLmdldFRpbWUoKVxuICAgICAgKSB7XG4gICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgY2hhbmNlT2ZTbm93Y291bnRlciArPVxuICAgICAgICAgIHRoaXMuaG91cmx5Rm9yZWNhc3REYXRhLmRheTAuaG91cltgaG91ciR7aX1gXS5jaGFuY2Vfb2Zfc25vdztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNoYW5jZSA9IGNoYW5jZU9mU25vd2NvdW50ZXIgLyBjb3VudGVyO1xuICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQoY2hhbmNlICogMTAwKSAvIDEwMCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoY2hhbmNlICogMTAwKSAvIDEwMDtcbiAgfVxufVxuXG5jbGFzcyBkYWlseUZvcmVjYXN0IHtcbiAgY29uc3RydWN0b3IoZGFpbHlGb3JlY2FzdCkge1xuICAgIHRoaXMuZGFpbHlGb3JlY2FzdCA9IGRhaWx5Rm9yZWNhc3Q7XG4gIH1cbiAgdGVzdCgpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmRhaWx5Rm9yZWNhc3QpO1xuICB9XG59XG5jbGFzcyBob3VybHlGb3JlY2FzdCB7XG4gIGNvbnN0cnVjdG9yKGhvdXJseUZvcmVjYXN0KSB7XG4gICAgdGhpcy5ob3VybHlGb3JlY2FzdCA9IGhvdXJseUZvcmVjYXN0O1xuICB9XG4gIHRlc3QoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5ob3VybHlGb3JlY2FzdCk7XG4gIH1cbn1cblxuLy9idXR0b24gdGFraW5nIGxvY2F0aW9uIGZyb20gaW5wdXQgdGhhdCBmaXJlIGFwaSByZXF1ZXN0IGFuZCBsb2cgZGF0YVxuZnVuY3Rpb24gdGFrZUxvY2F0aW9uKCkge1xuICBjb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaEJ1dHRvblwiKTtcbiAgc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCB0ZXN0aW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uXCIpLnZhbHVlO1xuICAgIGZpcmVSZXF1ZXN0KHRlc3RpbnB1dCk7XG4gIH0pO1xufVxudGFrZUxvY2F0aW9uKCk7XG5cbmFzeW5jIGZ1bmN0aW9uIGFwaVJlcXVlc3Qod2hhdExvY2F0aW9uKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLndlYXRoZXJhcGkuY29tL3YxL2ZvcmVjYXN0Lmpzb24/a2V5PSR7S2V5fSZxPSR7d2hhdExvY2F0aW9ufSZkYXlzPTNgLFxuICAgICAge1xuICAgICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgIGNvbnN0IERhdGFPYmplY3QgPSB7XG4gICAgICBiYXNpY19kYXRhOiB7XG4gICAgICAgIGNvdW50cnk6IHJlc3BvbnNlLmxvY2F0aW9uLmNvdW50cnksXG4gICAgICAgIGNpdHk6IHJlc3BvbnNlLmxvY2F0aW9uLm5hbWUsXG4gICAgICAgIGxvY2FsX3RpbWU6IHJlc3BvbnNlLmxvY2F0aW9uLmxvY2FsdGltZSxcbiAgICAgICAgY29uZGl0aW9uOiByZXNwb25zZS5jdXJyZW50LmNvbmRpdGlvbi50ZXh0LFxuICAgICAgICBjb25kaXRpb25faWNvbjogXCJodHRwczpcIiArIHJlc3BvbnNlLmN1cnJlbnQuY29uZGl0aW9uLmljb24sXG4gICAgICAgIGh1bWlkaXR5OiByZXNwb25zZS5jdXJyZW50Lmh1bWlkaXR5LFxuICAgICAgICBzdW5yaXNlOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVswXS5hc3Ryby5zdW5yaXNlLFxuICAgICAgICBzdW5zZXQ6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5WzBdLmFzdHJvLnN1bnNldCxcbiAgICAgIH0sXG4gICAgICBjZWxzaXVzOiB7XG4gICAgICAgIGZlZWxzbGlrZTogcmVzcG9uc2UuY3VycmVudC5mZWVsc2xpa2VfYyxcbiAgICAgICAgdGVtcGVyYXR1cmU6IHJlc3BvbnNlLmN1cnJlbnQudGVtcF9jLFxuICAgICAgICB3aW5kOiByZXNwb25zZS5jdXJyZW50LndpbmRfa3BoLFxuICAgICAgfSxcbiAgICAgIGZhaHJlbmhlaXQ6IHtcbiAgICAgICAgZmVlbHNsaWtlOiByZXNwb25zZS5jdXJyZW50LmZlZWxzbGlrZV9mLFxuICAgICAgICB0ZW1wZXJhdHVyZTogcmVzcG9uc2UuY3VycmVudC50ZW1wX2YsXG4gICAgICAgIHdpbmQ6IHJlc3BvbnNlLmN1cnJlbnQud2luZF9tcGgsXG4gICAgICB9LFxuICAgICAgZm9yZWNhc3Q6IHtcbiAgICAgICAgLy9Mb29waW5nIHBlciBkYXlzIGFuZCBob3VycyBpbiBmdW5jdGlvbiBmb3JlY2FzdFBlckhvdXJDZWxzaXVzIGFuZCBmb3JlY2FzdF9wZXJfaG91cl9GYWhyZW5oZWl0XG4gICAgICAgIGZvcmVjYXN0X3Blcl9kYXlfQ2Vsc2l1czoge30sXG4gICAgICAgIGZvcmVjYXN0X3Blcl9kYXlfRmFocmVuaGVpdDoge30sXG4gICAgICAgIGZvcmVjYXN0X3Blcl9ob3VyOiB7fSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBmb3JlY2FzdFBlckRheUNlbHNpdXMoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBEYXRhT2JqZWN0LmZvcmVjYXN0LmZvcmVjYXN0X3Blcl9kYXlfQ2Vsc2l1c1tcImRheVwiICsgaV0gPSB7XG4gICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF0ZSxcbiAgICAgICAgICBtaW5fdGVtcDogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5Lm1pbnRlbXBfYyxcbiAgICAgICAgICBtYXhfdGVtcDogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5Lm1heHRlbXBfYyxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JlY2FzdFBlckRheUZhaHJlbmhlaXQoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBEYXRhT2JqZWN0LmZvcmVjYXN0LmZvcmVjYXN0X3Blcl9kYXlfRmFocmVuaGVpdFtcImRheVwiICsgaV0gPSB7XG4gICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF0ZSxcbiAgICAgICAgICBtaW5fdGVtcDogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5Lm1pbnRlbXBfZixcbiAgICAgICAgICBtYXhfdGVtcDogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5Lm1heHRlbXBfZixcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZm9yZWNhc3RQZXJIb3VyKCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgRGF0YU9iamVjdC5mb3JlY2FzdC5mb3JlY2FzdF9wZXJfaG91cltcImRheVwiICsgaV0gPSB7XG4gICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF0ZSxcbiAgICAgICAgfTtcbiAgICAgICAgRGF0YU9iamVjdC5mb3JlY2FzdC5mb3JlY2FzdF9wZXJfaG91cltcImRheVwiICsgaV0uaG91ciA9IHt9O1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDI0OyBrKyspIHtcbiAgICAgICAgICBEYXRhT2JqZWN0LmZvcmVjYXN0LmZvcmVjYXN0X3Blcl9ob3VyW1wiZGF5XCIgKyBpXS5ob3VyW1wiaG91clwiICsga10gPSB7XG4gICAgICAgICAgICBjb25kaXRpb25faWNvbjpcbiAgICAgICAgICAgICAgXCJodHRwczpcIiArXG4gICAgICAgICAgICAgIHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10uY29uZGl0aW9uLmljb24sXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZUM6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10udGVtcF9jLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmVGOiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5ob3VyW2tdLnRlbXBfZixcbiAgICAgICAgICAgIGh1bWlkaXR5OiByZXNwb25zZS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5ob3VyW2tdLmh1bWlkaXR5LFxuICAgICAgICAgICAgY2hhbmNlX29mX3JhaW46XG4gICAgICAgICAgICAgIHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10uY2hhbmNlX29mX3JhaW4sXG4gICAgICAgICAgICBjaGFuY2Vfb2Zfc25vdzpcbiAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uaG91cltrXS5jaGFuY2Vfb2Zfc25vdyxcbiAgICAgICAgICAgIHRpbWU6IHJlc3BvbnNlLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmhvdXJba10udGltZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yZWNhc3RQZXJEYXlDZWxzaXVzKCk7XG4gICAgZm9yZWNhc3RQZXJEYXlGYWhyZW5oZWl0KCk7XG4gICAgZm9yZWNhc3RQZXJIb3VyKCk7XG4gICAgcmV0dXJuIERhdGFPYmplY3Q7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59XG5mdW5jdGlvbiBmaXJlUmVxdWVzdChpbnB1dHZhbHVlKSB7XG4gIGFwaVJlcXVlc3QoaW5wdXR2YWx1ZSkudGhlbigoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvdW50cnksXG4gICAgICBjaXR5LFxuICAgICAgbG9jYWxfdGltZSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIGNvbmRpdGlvbl9pY29uLFxuICAgICAgaHVtaWRpdHksXG4gICAgICBzdW5yaXNlLFxuICAgICAgc3Vuc2V0LFxuICAgIH0gPSBkYXRhLmJhc2ljX2RhdGE7XG4gICAgY29uc3QgY3VycmVudENlbHNpdXNEYXRhID0gZGF0YS5jZWxzaXVzO1xuICAgIGNvbnN0IGN1cnJlbnRGYWhyZW5oZWl0RGF0YSA9IGRhdGEuZmFocmVuaGVpdDtcbiAgICBjb25zdCBkYWlseUZvcmVjYXN0RGF0YSA9IGRhdGEuZm9yZWNhc3QuZm9yZWNhc3RfcGVyX2RheV9DZWxzaXVzO1xuICAgIGNvbnN0IGhvdXJseUZvcmVjYXN0RGF0YSA9IGRhdGEuZm9yZWNhc3QuZm9yZWNhc3RfcGVyX2hvdXI7XG4gICAgY29uc3QgY3VycmVuV2VhdGhlciA9IG5ldyBXZWF0aGVyKFxuICAgICAgY291bnRyeSxcbiAgICAgIGNpdHksXG4gICAgICBsb2NhbF90aW1lLFxuICAgICAgY29uZGl0aW9uLFxuICAgICAgY29uZGl0aW9uX2ljb24sXG4gICAgICBodW1pZGl0eSxcbiAgICAgIHN1bnJpc2UsXG4gICAgICBzdW5zZXQsXG4gICAgICBjdXJyZW50Q2Vsc2l1c0RhdGEsXG4gICAgICBjdXJyZW50RmFocmVuaGVpdERhdGEsXG4gICAgICBob3VybHlGb3JlY2FzdERhdGFcbiAgICApO1xuICAgIGNvbnN0IGRhaWx5Rm9yZWNhc3RPYmplY3QgPSBuZXcgZGFpbHlGb3JlY2FzdChkYWlseUZvcmVjYXN0RGF0YSk7XG4gICAgY29uc3QgaG91cmx5Rm9yZWNhc3RPYmplY3QgPSBuZXcgaG91cmx5Rm9yZWNhc3QoaG91cmx5Rm9yZWNhc3REYXRhKTtcbiAgICAvL2RhaWx5Rm9yZWNhc3RPYmplY3QudGVzdCgpO1xuICAgIC8vaG91cmx5Rm9yZWNhc3RPYmplY3QudGVzdCgpO1xuICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgY3VycmVuV2VhdGhlci5jaGFuY2VPZlJhaW4oKTtcbiAgICBjdXJyZW5XZWF0aGVyLmNoYW5jZU9mU25vdygpO1xuICAgIGN1cnJlbldlYXRoZXIuYmFzaWNEYXRhRE9NKCk7XG4gICAgY3VycmVuV2VhdGhlci5mYWhyZW5oZWl0RGF0YURPTSgpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJiYXNpY0RhdGEiLCJjaXR5IiwiY291bnRyeSIsInRpbWUiLCJjb25kaXRpb25JY29uIiwiY29uZGl0aW9uIiwidGVtcGVyYXR1cmUiLCJkYXRhSG9sZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNpdHlDb3VudHJ5TmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJ0aW1lRGF0ZSIsImNvbmRpdGlvbkNvbnRhaW5lciIsImNvbmRpdGlvbkljb25Db250YWluZXIiLCJzZXRBdHRyaWJ1dGUiLCJ3ZWF0aGVyQ29uZGl0aW9uIiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50VGVtcGVyYXR1cmUiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVwbGFjZUNoaWxkIiwiY2hpbGRyZW4iLCJhZGRpdGlvbmFsRGF0YSIsImh1bWlkaXR5IiwiZmVlbHNsaWtlIiwid2luZHNwZWVkIiwiYWRkaXRpb25hbERhdGFIb2xkZXIiLCJodW1pZGl0eURhdGEiLCJmZWVsc2xpa2VEYXRhIiwid2luZHNwZWVkRGF0YSIsIktleSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIldlYXRoZXIiLCJjb25zdHJ1Y3RvciIsImxvY2FsX3RpbWUiLCJjb25kaXRpb25faWNvbiIsInN1bnJpc2UiLCJzdW5zZXQiLCJjZWxzaXVzRGF0YSIsImZhaHJlbmhlaXREYXRhIiwiaG91cmx5Rm9yZWNhc3REYXRhIiwidGhpcyIsImJhc2ljRGF0YURPTSIsImZhaHJlbmhlaXREYXRhRE9NIiwid2luZCIsImNoYW5jZU9mUmFpbiIsImNoYW5jZU9mUmFpbmNvdW50ZXIiLCJjb3VudGVyIiwiaSIsImtleXMiLCJkYXkwIiwiaG91ciIsInRpbWVTbGljZXIiLCJEYXRlIiwiZ2V0VGltZSIsImNoYW5jZV9vZl9yYWluIiwiY2hhbmNlIiwiTWF0aCIsInJvdW5kIiwiY2hhbmNlT2ZTbm93IiwiY2hhbmNlT2ZTbm93Y291bnRlciIsImNoYW5jZV9vZl9zbm93IiwiY29uc29sZSIsImxvZyIsImRhaWx5Rm9yZWNhc3QiLCJ0ZXN0IiwiaG91cmx5Rm9yZWNhc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImFzeW5jIiwid2hhdExvY2F0aW9uIiwicmVxdWVzdCIsImZldGNoIiwibW9kZSIsInJlc3BvbnNlIiwianNvbiIsIkRhdGFPYmplY3QiLCJiYXNpY19kYXRhIiwibG9jYXRpb24iLCJuYW1lIiwibG9jYWx0aW1lIiwiY3VycmVudCIsInRleHQiLCJpY29uIiwiZm9yZWNhc3QiLCJmb3JlY2FzdGRheSIsImFzdHJvIiwiY2Vsc2l1cyIsImZlZWxzbGlrZV9jIiwidGVtcF9jIiwid2luZF9rcGgiLCJmYWhyZW5oZWl0IiwiZmVlbHNsaWtlX2YiLCJ0ZW1wX2YiLCJ3aW5kX21waCIsImZvcmVjYXN0X3Blcl9kYXlfQ2Vsc2l1cyIsImZvcmVjYXN0X3Blcl9kYXlfRmFocmVuaGVpdCIsImZvcmVjYXN0X3Blcl9ob3VyIiwiZm9yZWNhc3RQZXJEYXlDZWxzaXVzIiwiZGF0ZSIsIm1pbl90ZW1wIiwiZGF5IiwibWludGVtcF9jIiwibWF4X3RlbXAiLCJtYXh0ZW1wX2MiLCJmb3JlY2FzdFBlckRheUZhaHJlbmhlaXQiLCJtaW50ZW1wX2YiLCJtYXh0ZW1wX2YiLCJmb3JlY2FzdFBlckhvdXIiLCJrIiwidGVtcGVyYXR1cmVDIiwidGVtcGVyYXR1cmVGIiwiZXJyb3IiLCJhcGlSZXF1ZXN0IiwidmFsdWUiLCJ0aGVuIiwiZGF0YSIsImN1cnJlbnRDZWxzaXVzRGF0YSIsImN1cnJlbnRGYWhyZW5oZWl0RGF0YSIsImRhaWx5Rm9yZWNhc3REYXRhIiwiY3VycmVuV2VhdGhlciJdLCJzb3VyY2VSb290IjoiIn0=